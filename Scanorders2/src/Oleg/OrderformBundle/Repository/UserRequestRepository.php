<?php

namespace Oleg\OrderformBundle\Repository;

use Doctrine\ORM\EntityRepository;
use Oleg\OrderformBundle\Helper\FormHelper;

/**
 * UserRequestRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class UserRequestRepository extends EntityRepository
{

    public function processEntity( $entity ) {

        $helper = new FormHelper();

        $key = $entity->getPathologyService();

        if( isset($key) && $key >= 0 ) {

            $pathologyService = $helper->getPathologyService();

            $entity->setPathologyService( $pathologyService[$key] );

        }

        $entity->setStatus('active');
        
        return $entity;
    }
}
