{#{% extends "::base.html.twig" %}#}

{% extends "OlegOrderformBundle::Default/base.html.twig" %} 

{% block content %} 
{#{% block body -%}#}
    
<h2>Order Creation</h2>

<form action="{{ path('orderinfo_create') }}" method="post" {{ form_enctype(form) }}>

    {{ form_errors(form) }}

    {{ form_row(form.provider) }}
    {{ form_row(form.pathologyService) }}
    {{ form_row(form.priority) }}
    {{ form_row(form.slideDelivery) }}
    {{ form_row(form.returnSlide) }}
    
    <h3>Patient:</h3>
    <ul class="tags" data-prototype="{{ form_widget(form.patient.vars.prototype)|e }}">
        {# iterate over each existing tag and render its only field: name #}
        {% for patient in form.patient %}
            <li>
                {{ form_row(patient) }}
            </li>
            
{#            
            <h3>Specimen:</h3>
            <div class="specimen" data-prototype_spec="{{ form_widget(form.patient.specimen.vars.prototype)|e }}">              
                {% for specimen in form.patient.specimen %}
                    <li>{{ form_row(specimen) }}</li>
                {% endfor %}
            </div>
 #}           
        {% endfor %}                           
    </ul>
    
     {{ form_rest(form) }}


{#    Test cal controller: it works!#}
{#    {% render url('part_new') %}#}
    
    <p>
        <button type="submit">Create Order</button>
    </p>
</form>
    
<a href="{{ path('orderinfo') }}">Back to the list</a>

{% endblock %}    
{#{% endblock %}#}
  