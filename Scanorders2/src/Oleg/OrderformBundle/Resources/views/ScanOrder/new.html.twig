{#{% extends '::base.html.twig' %}#}

{% extends "OlegOrderformBundle::Default/base.html.twig" %} 

{#{% form_theme form 'OlegOrderformBundle:Default:fields.html.twig' %}#}

{% block content %} 
{% block body -%}

    <h1>New Single-Scan Order Form</h1>

{#    {% include 'OlegOrderformBundle:ScanOrder:table.html.twig' %}       #}
    
    <form action="{{ path('singleorder_create') }}" method="post" {{ form_enctype(form) }}>
                     
        {{ form_errors(form) }}
        {{ form_widget(form) }}
        
        {{ form_errors(form_patient) }}
        {{ form_widget(form_patient) }}
        
        {{ form_errors(form_procedure) }}
        {{ form_widget(form_procedure) }}
        
        {{ form_errors(form_accession) }}
        {{ form_widget(form_accession) }}
        
        {{ form_errors(form_part) }}
        {{ form_widget(form_part) }}
        
        {{ form_errors(form_block) }}
        {{ form_widget(form_block) }}
        
        {{ form_errors(form_slide) }}
        {{ form_widget(form_slide) }}
        
        <p>
            <button class="btn_margin_top btn btn-primary btn-success" type="submit">Submit</button>        
        </p>

        <a class='btn_margin_top btn btn-primary' href="{{ path('orderinfo') }}">Back to the list</a>

        
{#       
        <div class="slide_new"> 
            {{ form_errors(form) }}
            
            {{ form_widget(form.type, {value : 'single'}) }}
            
            {{ form_label(form.accession.accession, '* Accession + Part + Block (i.e. S12-99998 B1)') }} 
            {{ form_widget(form.accession.slide.accession) }}   
            
            {{ form_label(form_scan.slide.part.name) }}
            {{ form_widget(form_scan.slide.part.name) }}        
            {{ form_widget(form_scan.slide.block.name) }}          
            
            {{ form_label(form_scan.slide.stain.name) }}
            {{ form_widget(form_scan.slide.stain.name) }}
                      
            {{ form_label(form_scan.mag) }}
            {{ form_widget(form_scan.mag) }} 
            
            {{ form_label(form_scan.slide.part.diagnosis) }}
            {{ form_widget(form_scan.slide.part.diagnosis) }} 
            
            {{ form_label(form_scan.note) }}
            {{ form_widget(form_scan.note) }} 
            
            <div class="btn_margin_top">
                <input type='button' id='next' value='Next' class="btn btn-primary btn-success">       
            </div>
            
            <a class='btn_margin_top btn btn-primary' href="{{ path('orderinfo') }}">Back to the list</a>
            
        </div>

        <div class="slide_new"> 
            
            <div id="orderinfo">
                       
            <h4>Scan Order Info</h4>           
            {{ form_errors(form) }}           
            {{ form_label(form) }}
            {{ form_widget(form) }}
                   
            <p>
                <button class="btn_margin_top btn btn-primary btn-success" type="submit">Submit</button>        
            </p>
            
        </div> 
            
        </div>    
        
        <div class="slide_new">                     
            
            <a id="optional_button" class="btn btn-mini" href="#">options</a>
        
            <div id="optional">
            
                {% if form_rest(form_scan.slide.accession) is not empty %}
                    <h4>Optional Parameters for Accession</h4>
                    {{ form_rest(form_scan.slide.accession) }} 
                {% endif %}
                 
                <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#slide_part">
                    Optional Parameters for Part
                </button>
                <div id="slide_part" class="collapse">
                    {{ form_rest(form_scan.slide.part) }}
                </div>

                {% if form_rest(form_scan.slide.block) is not empty %}
                    <h4>Optional Parameters for Block</h4>
                    {{ form_rest(form_scan.slide.block) }} 
                {% endif %}

                <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#slide_stain">
                    Optional Parameters for Stain
                </button>
                <div id="slide_stain" class="collapse">
                    {{ form_rest(form_scan.slide.stain) }} 
                </div>

                <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#slide_slide">
                    Optional Parameters for Slide
                </button>
                <div id="slide_slide" class="collapse">
                    {{ form_rest(form_scan.slide) }} 
                </div>
                    
                <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#slide_scan">
                    Optional Parameters for Scan
                </button>
                <div id="slide_scan" class="collapse">
                    {{ form_rest(form_scan) }} 
                </div>                               
                    
                {% if form_rest(form_scan) is not empty and form_rest(form) is not empty%}
                    <h4>All Other Parameters</h4> 
                    {{ form_rest(form) }} 
                    {{ form_rest(form_scan) }}
                {% endif %}
            </div> 
            
        </div>

  #}      
    </form>        
{% endblock %}
{% endblock %} 