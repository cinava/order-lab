Migrate2Postgres
https://github.com/isapir/Migrate2Postgres


DATETIME2 -> timestamp without time zone

/usr/local/bin/order-lab/Scanorders2/src/Oleg/FellAppBundle/Util/FellowshipApplication-f1d9f98353e5.p12

Problem: Primary and foreign keys are not generated.

DROP TABLE IF EXISTS public.fellapp_datafile;
CREATE TABLE public.fellapp_datafile (
	 id                  	INT GENERATED BY DEFAULT AS IDENTITY	NOT NULL
	,document_id         	INT
	,fellapp_id          	INT
	,creationdate        	TIMESTAMP WITHOUT TIME ZONE
	,updatedate          	TIMESTAMP WITHOUT TIME ZONE
	,status              	TEXT
);

Correct:
CREATE TABLE dbo.fellapp_datafile
(
    id integer NOT NULL DEFAULT nextval('dbo.fellapp_datafile_id_seq'::regclass),
    document_id integer,
    fellapp_id integer,
    creationdate timestamp without time zone,
    updatedate timestamp without time zone,
    status character varying(255) COLLATE pg_catalog."default",
    CONSTRAINT pk__fellapp___3213e83f9005dcf5 PRIMARY KEY (id)
)

Set primary key: ALTER TABLE public.user_siteparameters ADD PRIMARY KEY (id);

Trying:
Create DB with schema by symfony
Import data from DB populated by Migrate2Postgres
Result: 
pg_restore: error: could not execute query: ERROR:  relation "public.vacreq_availabilitylist_id_seq" does not exist
pg_restore: error: COPY failed for table "user_lifeformlist": ERROR:  insert or update on table "user_lifeformlist" violates foreign key constraint "fk_472fe3ef61220ea6"
public.fellapp_datafile.fk_93acee5c2a90cb41

