
{% extends "AppVacReqBundle/Default/base.html.twig" %}


{% block title %}
    Holiday Dates
{% endblock %}



{% block content %}
    <h4 class="text-info" align="center">
        {{ title }}
        {#<button type="button" class="btn btn-default btn-sm" onClick="importHolidayDates(this)" >Update Now</button>#}
        <a class="btn btn-default" href="{{ path('vacreq_update_holiday_dates') }}">Update</a>
    </h4>

    {#<p>#}
        {#<button type="button" class="btn btn-default btn-sm" onClick="importHolidayDates(this)" >Import Now</button>#}
    {#</p>#}

    {#{% for holiday in holidays %}#}
        {#{{ holiday.getName() }}:#}
        {#{{ holiday.getHolidayDate()|date('Y-m-d') }} -#}
        {#{{ holiday.getHolidayName() }} -#}
        {#Observed by:#}
        {#{% for institution in holiday.getInstitutions() %}#}
            {#{{ institution.getOptimalName() }};#}
        {#{% endfor %}#}

        {#<br>#}
    {#{% endfor %}#}


    <form action="{{ path(routename) }}" method="get" class="well form-search">

        <p>
        <div class="row">

            {#<div class="col-xs-2">#}
                {#<div class="input-group input-group-reg date allow-future-date">#}
                    {#{{ form_widget(vacreqfilter.startdate) }}#}
                    {#<span class="add-on input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>#}
                {#</div>#}
            {#</div>#}

            {#<div class="col-xs-2">#}
                {#<div class="input-group input-group-reg date allow-future-date">#}
                    {#{{ form_widget(vacreqfilter.enddate) }}#}
                    {#<span class="add-on input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>#}
                {#</div>#}
            {#</div>#}

            {#<div class="col-xs-2">#}
                {#{{ form_row(vacreqfilter.academicYear) }}#}
            {#</div>#}

            <div class="col-xs-2">
                {{ form_row(filterform.years) }}
            </div>

            <div class="col-xs-1">
                <button type="submit" class="btn btn-sm btn-default">Filter</button>
            </div>

        </div>
        </p>

        {{ form_rest(filterform) }}

    </form>


    <table class="records_list table table-hover table-condensed text-left table-bordered">
        <thead>
        <tr>
            <th>{{ knp_pagination_sortable(pagination, 'ID', 'holiday.id') }}</th>

            <th>{{ knp_pagination_sortable(pagination, 'Date', 'holiday.holidayDate') }}</th>

            <th>{{ knp_pagination_sortable(pagination, 'Name', 'holiday.holidayName') }}</th>

            <th>{{ knp_pagination_sortable(pagination, 'Institutions', 'holiday.institutions') }}</th>

            <th>{{ knp_pagination_sortable(pagination, 'Country', 'holiday.country') }}</th>

            <th style="border-left: 2px solid gray;">
                Actions
            </th>
        </tr>
        </thead>
        <tbody data-link="row" class="rowlink">

        {% for entity in pagination %}

            <tr>

                <td data-toggle="tooltip" data-container="body">
                    <a href="{{ path(vacreq_sitename~'_floating_show', { 'id': entity.id }) }}">{{ entity.id }}</a>
                </td>

                <td>
                    {{ entity.getHolidayDate()|date('m/d/Y H:i:s') }}
                </td>

                <td>
                    {{ entity.getHolidayName() }}
                </td>

                <td>
                    {% for institution in entity.getInstitutions() %}
                        {{ institution.getOptimalName() }};
                    {% endfor %}
                </td>

                <td>
                    {{ entity.country }}
                </td>


                {#Action#}
                <td class="rowlink-skip" style="border-left: 2px solid gray;">
                    <div class="btn-group">
                        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                            Action <span class="caret"></span>
                        </button>

                        <ul class="dropdown-menu dropdown-menu-right">

                            <li>
                                {#{{ path(vacreq_sitename~'_showuser', { 'id': entity.user.id }) }}#}
                                <a href="" target="_blank">Edit</a>
                            </li>

                            {#<li>#}
                                {#<a href="{{ path(vacreq_sitename~'_floating_show', { 'id': entity.id }) }}" target="_blank">View/Edit</a>#}
                            {#</li>#}

                        </ul>
                    </div>
                </td>

            </tr>

        {% endfor %}
        </tbody>
    </table>

    <div class="navigation">
        {{ knp_pagination_render(pagination) }}
    </div>


{% endblock %}




{#{% block additionaljs %}#}
    {#<script src="{{ asset('orderassets/AppVacReqBundle/form/js/holidayDays.js') }}"></script>#}
{#{% endblock %}#}