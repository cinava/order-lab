{#
    Copyright 2017 Cornell University

    Licensed under the Apache License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
#}


<div class="panel panel-primary">
    <div class="panel-heading">
        <h4 class="panel-title text-left">
            <a data-toggle="collapse" href="#residency-site-settings">
                Residency Applications Site Settings
            </a>
        </h4>
    </div>
    <div id="residency-site-settings" class="panel-collapse collapse">
        <div class="panel-body">

            {#<p>#}
                {#<a href="{{ path('resapp_google_form_config_show') }}">Google Form Configuration</a>#}
            {#</p>#}

            <table class="table table-striped table-bordered table-hover table-condensed text-left">
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Value</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody data-link="row" class="rowlink">

                    {#AllowPopulateResApp#}
                    <tr>
                        <td class="rowlink-skip">
                            Path to the remote published copy of the residency application form's Code.gs file
                        </td>
                        <td>{{ entity.codeGoogleFormResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'codeGoogleFormResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td class="rowlink-skip">
                            Google Drive Folder ID where config file is located
                            <p class="rowlink-skip">
                                <a href="{{ path('resapp_google_form_config_show') }}">Google Form Configuration</a>
                            </p>
                        </td>
                        <td>{{ entity.configFileFolderIdResApp }}</td>
                        <td class="rowlink-skip"><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'configFileFolderIdResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td class="rowlink-skip">
                            Periodically import residency applications submitted via the Google form
                            <a style="color:#428bca" href="{{ path('resapp_instructions') }}" target="_blank">View instructions to change the interval</a>
                        </td>
                        <td class="rowlink-skip">
                            {% set allowPopulateResAppStr = 'No' %}
                            {% if entity.allowPopulateResApp == true %}
                                {% set allowPopulateResAppStr = 'Yes' %}
                            {% endif %}
                            {{ allowPopulateResAppStr }}
                        </td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'allowPopulateResApp'}) }}">Edit</a></td>

                    </tr>

                    <tr>
                        <td class="rowlink-skip">
                            Automatically send invitation emails to upload recommendation letters
                        </td>
                        <td class="rowlink-skip">
                            {% set sendEmailUploadLetterResAppStr = 'No' %}
                            {% if entity.sendEmailUploadLetterResApp == true %}
                                {% set sendEmailUploadLetterResAppStr = 'Yes' %}
                            {% endif %}
                            {{ sendEmailUploadLetterResAppStr }}
                        </td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'sendEmailUploadLetterResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Email address for confirmation of application submission</td>
                        <td>{{ entity.confirmationEmailResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'confirmationEmailResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Email subject for confirmation of application submission</td>
                        <td>{{ entity.confirmationSubjectResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'confirmationSubjectResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Email body for confirmation of application submission</td>
                        <td>{{ entity.confirmationBodyResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'confirmationBodyResApp'}) }}">Edit</a></td>
                    </tr>


                    <tr>
                        <td>Link to the Application Page</td>
                        <td class="rowlink-skip">
                            <a href="{{ entity.applicationPageLinkResApp }}" target="_blank">{{ entity.applicationPageLinkResApp }}</a>
                        </td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'applicationPageLinkResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Client Email for accessing the Google Drive API (1040591934373-1sjcosdt66bmani0kdrr5qmc5fibmvk5@developer.gserviceaccount.com)</td>
                        <td>{{ entity.clientEmailResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'clientEmailResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Full Path to p12 key or service account credentials.json file for accessing the Google Drive API (E:\Program Files (x86)\pacsvendor\pacsname\htdocs\order\scanorder\Scanorders2\src\App\ResAppBundle\Util\ResidencyApplication-f1d9f98353e5.p12)</td>
                        <td class="rowlink-skip">{{ entity.p12KeyPathResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'p12KeyPathResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Google Drive API URL (https://www.googleapis.com/auth/drive https://spreadsheets.google.com/feeds)</td>
                        <td class="rowlink-skip">{{ entity.googleDriveApiUrlResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'googleDriveApiUrlResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Impersonate the following user email address for accessing the Google Drive API (olegivanov@pathologysystems.org)</td>
                        <td>{{ entity.userImpersonateEmailResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'userImpersonateEmailResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Template Google Spreadsheet ID (1ITacytsUV2yChbfOSVjuBoW4aObSr_xBfpt6m_vab48)</td>
                        <td>{{ entity.templateIdResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'templateIdResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Backup Google Spreadsheet ID (19KlO1oCC88M436JzCa89xGO08MJ1txQNgLeJI0BpNGo)</td>
                        <td>{{ entity.backupFileIdResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'backupFileIdResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Application Google Drive Folder ID (where the response spreadsheets are saved)</td>
                        <td>{{ entity.folderIdResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'folderIdResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Backup Sheet Last Modified Date</td>
                        <td class="rowlink-skip">
                            {% if entity.backupUpdateDatetimeResApp %}
                                {{ entity.backupUpdateDatetimeResApp|date('m/d/Y H:i') }}
                            {% endif %}
                        </td>
                        {#<td>{{ entity.backupUpdateDatetimeResApp }}</td>#}
                        {#<td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'backupUpdateDatetimeResApp'}) }}">Edit</a></td>#}
                    </tr>

                    <tr>
                        <td>Local Organizational Group for imported residency applications (Pathology Residency Programs (WCM))</td>
                        <td>{{ entity.localInstitutionResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'localInstitutionResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Residency identification string to download recommendation letters (55555)</td>
                        <td>{{ entity.identificationUploadLetterResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'identificationUploadLetterResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Delete successfully imported applications from Google Drive</td>
                        <td>
                            {#{{ entity.deleteImportedAplicationsResApp }}#}
                            {% set deleteImportedAplicationsResAppStr = 'No' %}
                            {% if entity.deleteImportedAplicationsResApp == true %}
                                {% set deleteImportedAplicationsResAppStr = 'Yes' %}
                            {% endif %}
                            {{ deleteImportedAplicationsResAppStr }}
                        </td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'deleteImportedAplicationsResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Delete downloaded spreadsheets with residency applications after successful import into the database</td>
                        <td>
                            {#{{ entity.deleteOldAplicationsResApp }}#}
                            {% set deleteOldAplicationsResAppStr = 'No' %}
                            {% if entity.deleteOldAplicationsResApp == true %}
                                {% set deleteOldAplicationsResAppStr = 'Yes' %}
                            {% endif %}
                            {{ deleteOldAplicationsResAppStr }}
                        </td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'deleteOldAplicationsResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Number of years to keep downloaded spreadsheets with residency applications as backup</td>
                        <td>{{ entity.yearsOldAplicationsResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'yearsOldAplicationsResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>
                            Path to the downloaded spreadsheets with residency applications (resapp/Spreadsheets).
                            <br>
                            Resulting Path: {{ uploadPath ~ 'Uploaded\\' ~ entity.spreadsheetsPathResApp }}
                        </td>
                        <td>{{ entity.spreadsheetsPathResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'spreadsheetsPathResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>
                            Path to the downloaded attached documents (resapp/ResowshipApplicantUploads).
                            <br>Resulting Path: {{ uploadPath ~ 'Uploaded\\' ~  entity.applicantsUploadPathResApp }}
                        </td>
                        <td>{{ entity.applicantsUploadPathResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'applicantsUploadPathResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>
                            Path to the generated residency applications in PDF format (resapp/Reports).
                            <br>Resulting Path: {{ uploadPath ~ 'Uploaded\\' ~ entity.reportsUploadPathResApp }}
                        </td>
                        <td>{{ entity.reportsUploadPathResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'reportsUploadPathResApp'}) }}">Edit</a></td>
                    </tr>

                    <tr>
                        <td>Recommendation Letter Salt</td>
                        <td>{{ entity.recLetterSaltResApp }}</td>
                        <td><a href="{{ path(sitename~'_siteparameters_edit', { 'id': entity.id, 'param': 'recLetterSaltResApp'}) }}">Edit</a></td>
                    </tr>

                </tbody>
            </table>


            <p>
                {{ render(controller('App\\ResAppBundle\\Controller\\ResAppSiteParametersController::resappSiteParameterShowAction')) }}
            </p>

        </div>
    </div>
</div>

